<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StockSharp — Dependency Map</title>
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: false, theme: 'default', securityLevel: 'loose', maxTextSize: 200000, maxEdges: 600 });
  window.mermaidAPI = mermaid;
</script>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { font-size: 15px; scroll-behavior: smooth; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background: #0f172a; color: #e2e8f0; line-height: 1.6; min-height: 100vh;
  }
  a { color: #3b82f6; text-decoration: none; }
  a:hover { text-decoration: underline; }
  .header {
    background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%);
    border-bottom: 1px solid #334155; padding: 1.5rem 2rem 1rem;
  }
  .header-top {
    display: flex; align-items: center; justify-content: space-between;
    flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem;
  }
  .header h1 { font-size: 1.6rem; font-weight: 700; color: #f1f5f9; letter-spacing: -0.02em; }
  .header h1 span { color: #3b82f6; }
  .search-box { position: relative; width: 280px; }
  .search-box input {
    width: 100%; padding: 0.5rem 0.75rem 0.5rem 2.2rem; border-radius: 6px;
    border: 1px solid #334155; background: #1e293b; color: #e2e8f0;
    font-size: 0.875rem; outline: none; transition: border-color .2s;
  }
  .search-box input::placeholder { color: #64748b; }
  .search-box input:focus { border-color: #3b82f6; }
  .search-box .search-icon {
    position: absolute; left: 0.65rem; top: 50%; transform: translateY(-50%);
    color: #64748b; font-size: 0.85rem; pointer-events: none;
  }
  .stats-row { display: flex; flex-wrap: wrap; gap: 0.5rem 1.25rem; margin-bottom: 0.75rem; }
  .stat { display: flex; align-items: center; gap: 0.4rem; font-size: 0.8rem; color: #94a3b8; }
  .stat-value { font-weight: 700; font-size: 1rem; color: #3b82f6; }
  .tabs {
    display: flex; flex-wrap: wrap; gap: 0.25rem; padding: 0 2rem;
    background: #0f172a; border-bottom: 1px solid #334155;
  }
  .tab-btn {
    padding: 0.6rem 1rem; background: transparent; border: none; color: #94a3b8;
    font-size: 0.82rem; font-weight: 500; cursor: pointer;
    border-bottom: 2px solid transparent; transition: color .2s, border-color .2s; white-space: nowrap;
  }
  .tab-btn:hover { color: #e2e8f0; }
  .tab-btn.active { color: #3b82f6; border-bottom-color: #3b82f6; }
  .content { padding: 1.5rem 2rem 3rem; }
  .tab-panel { display: none; }
  .tab-panel.active { display: block; }
  .card {
    background: #1e293b; border: 1px solid #334155; border-radius: 10px;
    padding: 1.25rem 1.5rem; margin-bottom: 1.25rem;
  }
  .card-title {
    font-size: 1.05rem; font-weight: 600; color: #f1f5f9; margin-bottom: 0.75rem;
    display: flex; align-items: center; gap: 0.5rem;
  }
  .card-title .icon { color: #3b82f6; }
  .card-title { justify-content: flex-start; }
  .zoom-controls { margin-left: auto; display: flex; gap: 0.25rem; }
  .zoom-btn {
    background: #0f172a; border: 1px solid #334155; color: #94a3b8; border-radius: 4px;
    padding: 0.15rem 0.5rem; font-size: 0.75rem; cursor: pointer; line-height: 1.2;
  }
  .zoom-btn:hover { color: #e2e8f0; border-color: #3b82f6; }
  .edge-filter-warning {
    background: #fef3c7; color: #92400e; border: 1px solid #f59e0b; border-radius: 6px;
    padding: 0.5rem 0.75rem; margin: 0.5rem 0; font-size: 0.85rem;
  }
  .mermaid-wrap {
    background: #f8fafc; border-radius: 8px; padding: 1rem; overflow: auto;
    min-height: 120px; max-height: 80vh;
  }
  .mermaid-wrap .loading { color: #64748b; font-size: 0.9rem; text-align: center; }
  .mermaid-wrap svg { max-width: none !important; height: auto; transform-origin: top left; }
  .flowchart-link { transition: stroke 0.15s, stroke-width 0.15s, opacity 0.15s; }
  .edge-hover-target { stroke: transparent; stroke-width: 15px; fill: none; cursor: pointer; pointer-events: stroke; }
  .flowchart-link.edge-highlight { stroke: #3b82f6 !important; stroke-width: 3px !important; }
  .edgePaths:has(.flowchart-link:hover) .flowchart-link:not(:hover) { opacity: 0.15; }
  .edge-tooltip {
    position: fixed; background: #1e293b; color: #e2e8f0; border: 1px solid #3b82f6;
    border-radius: 6px; padding: 0.4rem 0.7rem; font-size: 0.8rem; pointer-events: none;
    z-index: 1000; white-space: nowrap; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    display: none;
  }
  .edge-tooltip .edge-from { color: #60a5fa; }
  .edge-tooltip .edge-to { color: #34d399; }
  .edge-tooltip .edge-arrow { color: #94a3b8; margin: 0 0.3rem; }
  .edge-detail-panel {
    position: fixed; right: 1rem; top: 50%; transform: translateY(-50%);
    background: #1e293b; border: 1px solid #334155; border-radius: 10px;
    padding: 1.2rem; width: 380px; max-height: 70vh; overflow-y: auto;
    z-index: 999; box-shadow: 0 8px 32px rgba(0,0,0,0.5); display: none;
    font-size: 0.85rem; color: #e2e8f0;
  }
  .edge-detail-panel .detail-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 0.8rem; padding-bottom: 0.6rem; border-bottom: 1px solid #334155;
  }
  .edge-detail-panel .detail-header h3 { font-size: 0.95rem; font-weight: 600; margin: 0; }
  .edge-detail-panel .detail-close {
    background: none; border: 1px solid #475569; color: #94a3b8; border-radius: 4px;
    cursor: pointer; padding: 0.1rem 0.5rem; font-size: 0.8rem;
  }
  .edge-detail-panel .detail-close:hover { color: #e2e8f0; border-color: #64748b; }
  .edge-detail-panel .detail-section { margin-bottom: 0.8rem; }
  .edge-detail-panel .detail-section h4 {
    font-size: 0.75rem; text-transform: uppercase; color: #64748b; letter-spacing: 0.04em;
    margin-bottom: 0.3rem;
  }
  .edge-detail-panel .detail-flow {
    display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; margin-bottom: 0.3rem;
  }
  .edge-detail-panel .detail-flow .from { color: #60a5fa; font-weight: 600; }
  .edge-detail-panel .detail-flow .to { color: #34d399; font-weight: 600; }
  .edge-detail-panel .detail-flow .arrow { color: #94a3b8; }
  .edge-detail-panel .detail-list { list-style: none; padding: 0; }
  .edge-detail-panel .detail-list li {
    padding: 0.25rem 0; border-bottom: 1px solid #1e293b; color: #cbd5e1; font-size: 0.8rem;
  }
  .edge-detail-panel .detail-list li:last-child { border-bottom: none; }
  .edge-detail-panel .detail-empty { color: #64748b; font-style: italic; font-size: 0.8rem; }
  .table-wrap { overflow-x: auto; }
  table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
  thead th {
    background: #1a2438; color: #94a3b8; font-weight: 600; text-transform: uppercase;
    font-size: 0.72rem; letter-spacing: 0.04em; padding: 0.6rem 0.75rem; text-align: left;
    border-bottom: 1px solid #334155; position: sticky; top: 0; z-index: 1;
  }
  tbody td { padding: 0.55rem 0.75rem; border-bottom: 1px solid #1e293b; color: #cbd5e1; }
  tbody tr:hover { background: rgba(59,130,246,0.06); }
  .tag {
    display: inline-block; padding: 0.15rem 0.55rem; border-radius: 4px;
    font-size: 0.72rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.03em;
  }
  .tag-webapp      { background: rgba(26,188,156,.15); color: #1ABC9C; }
  .tag-library     { background: rgba(74,144,217,.15); color: #4A90D9; }
  .tag-application { background: rgba(231,76,60,.15);  color: #E74C3C; }
  .tag-service     { background: rgba(52,152,219,.15); color: #3498DB; }
  .tag-tool        { background: rgba(243,156,18,.15); color: #F39C12; }
  .tag-test        { background: rgba(155,89,182,.15); color: #9B59B6; }
  .tag-connector   { background: rgba(230,126,34,.15); color: #E67E22; }
  .tag-desktopapp  { background: rgba(233,30,99,.15);  color: #E91E63; }
  .tag-db       { background: rgba(74,144,217,.15);  color: #4A90D9; }
  .tag-messaging{ background: rgba(231,76,60,.15);   color: #E74C3C; }
  .tag-api      { background: rgba(52,152,219,.15);  color: #3498DB; }
  .tag-cache    { background: rgba(243,156,18,.15);  color: #F39C12; }
  .tag-config   { background: rgba(155,89,182,.15);  color: #9B59B6; }
  .tag-presentation  { background: rgba(233,30,99,.15);  color: #E91E63; }
  .tag-engine        { background: rgba(255,152,0,.15);  color: #FF9800; }
  .tag-dataaccess    { background: rgba(74,144,217,.15); color: #4A90D9; }
  .tag-infrastructure { background: rgba(155,89,182,.15); color: #9B59B6; }
  .tag-unclassified  { background: rgba(100,116,139,.15); color: #64748b; }
  .flow-row { cursor: pointer; }
  .flow-row:hover { background: rgba(59,130,246,0.12) !important; }
  .flow-step { display: inline-flex; align-items: center; gap: 0.3rem; margin: 0.2rem 0; }
  .flow-arrow { color: #64748b; margin: 0 0.2rem; }
  .mono { font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace; font-size: 0.78rem; color: #64748b; }
  .footer {
    text-align: center; padding: 1.5rem 2rem; color: #475569;
    font-size: 0.78rem; font-style: italic; border-top: 1px solid #334155;
  }
  @media (max-width: 768px) {
    .header { padding: 1rem; }
    .content { padding: 1rem; }
    .tabs { padding: 0 1rem; }
    .search-box { width: 100%; }
  }
</style>
</head>
<body>
<div class="edge-tooltip" id="edgeTooltip"></div>
<div class="edge-detail-panel" id="edgeDetailPanel"></div>

<header class="header">
  <div class="header-top">
    <h1><span>StockSharp</span> Dependency Map</h1>
    <div class="search-box">
      <span class="search-icon">&#128269;</span>
      <input type="text" id="searchInput" placeholder="Search projects..." autocomplete="off">
    </div>
  </div>
  <div class="stats-row">
    <div class="stat"><span class="stat-value">140</span> Projects</div>
    <div class="stat"><span class="stat-value">50</span> NuGet Packages</div>
    <div class="stat"><span class="stat-value">200</span> Project References</div>
    <div class="stat"><span class="stat-value">1699</span> Data Patterns</div>
    <div class="stat"><span class="stat-value">1</span> Config Files</div>
  </div>
</header>

<nav class="tabs" id="tabNav">
  <button class="tab-btn active" data-tab="overview">Overview</button>
  <button class="tab-btn" data-tab="cat_library">Library (17)</button>
  <button class="tab-btn" data-tab="cat_test">Test (10)</button>
  <button class="tab-btn" data-tab="cat_connector">Connector (7)</button>
  <button class="tab-btn" data-tab="cat_tool">Tool (3)</button>
  <button class="tab-btn" data-tab="cat_desktopapp">DesktopApp (1)</button>
  <button class="tab-btn" data-tab="dataflow">Data Flow</button>
  <button class="tab-btn" data-tab="businesslayers">Business Layers</button>
  <button class="tab-btn" data-tab="e2eflowsdiagram">E2E Flows Diagram</button>
  <button class="tab-btn" data-tab="datasources">Data Sources</button>
  <button class="tab-btn" data-tab="e2eflows">E2E Flows</button>
  <button class="tab-btn" data-tab="allprojects">All Projects</button>
</nav>

<main class="content">

  <section class="tab-panel active" id="panel-overview">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Category Overview
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-overview', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-overview', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-overview', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-overview">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    library[&quot;Library (17)&quot;]
    test[&quot;Test (10)&quot;]
    connector[&quot;Connector (7)&quot;]
    tool[&quot;Tool (3)&quot;]
    desktopapp[&quot;Desktopapp (1)&quot;]
    test --&gt;|22| library
    connector --&gt;|14| library
    library --&gt;|1| tool
    library --&gt;|1| test
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-cat_library">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Library Projects (17)
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_library', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_library', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_library', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-cat_library">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph library[&quot;Library&quot;]
        StockSharp_Media_Names[&quot;Media.Names&quot;]
        StockSharp_Configuration[&quot;Configuration&quot;]
        StockSharp_Charting_Interfaces[&quot;Charting.Interfaces&quot;]
        StockSharp_Algo_Indicators[&quot;Algo.Indicators&quot;]
        StockSharp_Diagram_Core[&quot;Diagram.Core&quot;]
        StockSharp_Reporting[&quot;Reporting&quot;]
        StockSharp_Algo_Import[&quot;Algo.Import&quot;]
        StockSharp_Algo_Analytics_CSharp[&quot;Algo.Analytics.CSharp&quot;]
        StockSharp_BusinessEntities[&quot;BusinessEntities&quot;]
        StockSharp_Messages[&quot;Messages&quot;]
        StockSharp_Algo_Strategies[&quot;Algo.Strategies&quot;]
        StockSharp_Algo_Export[&quot;Algo.Export&quot;]
        StockSharp_Alerts_Interfaces[&quot;Alerts.Interfaces&quot;]
        StockSharp_Algo_Analytics[&quot;Algo.Analytics&quot;]
        StockSharp_Algo_Compilation[&quot;Algo.Compilation&quot;]
        StockSharp_Algo_Gpu[&quot;Algo.Gpu&quot;]
        StockSharp_Algo[&quot;Algo&quot;]
    end
    ext_test([&quot;Test (10)&quot;])
    ext_tool([&quot;Tool (1)&quot;])
    ext_connector([&quot;Connector (7)&quot;])
    StockSharp_Configuration --&gt; StockSharp_Messages
    StockSharp_Charting_Interfaces --&gt; StockSharp_BusinessEntities
    StockSharp_Algo_Indicators --&gt; StockSharp_Algo
    StockSharp_Diagram_Core --&gt; StockSharp_Alerts_Interfaces
    StockSharp_Diagram_Core --&gt; StockSharp_Algo_Strategies
    StockSharp_Diagram_Core --&gt; StockSharp_Algo_Indicators
    StockSharp_Reporting --&gt; StockSharp_Messages
    StockSharp_Algo_Import --&gt; StockSharp_Algo
    StockSharp_Algo_Analytics_CSharp --&gt; StockSharp_Algo_Analytics
    StockSharp_BusinessEntities --&gt; StockSharp_Messages
    StockSharp_Algo_Strategies --&gt; StockSharp_Alerts_Interfaces
    StockSharp_Algo_Export --&gt; StockSharp_Algo_Indicators
    StockSharp_Alerts_Interfaces --&gt; StockSharp_BusinessEntities
    StockSharp_Algo_Analytics --&gt; StockSharp_Algo_Indicators
    StockSharp_Algo_Compilation --&gt; StockSharp_Configuration
    StockSharp_Algo_Gpu --&gt; StockSharp_Algo_Indicators
    StockSharp_Algo --&gt; StockSharp_Reporting
    StockSharp_Algo --&gt; StockSharp_Charting_Interfaces
    StockSharp_Algo --&gt; StockSharp_Configuration
    ext_test -.-&gt; StockSharp_Algo
    StockSharp_Media_Names -.-&gt; ext_tool
    ext_test -.-&gt; StockSharp_Algo_Analytics
    ext_test -.-&gt; StockSharp_Algo_Compilation
    ext_test -.-&gt; StockSharp_Algo_Export
    ext_test -.-&gt; StockSharp_Algo_Import
    ext_test -.-&gt; StockSharp_Algo_Gpu
    ext_test -.-&gt; StockSharp_Algo_Indicators
    ext_test -.-&gt; StockSharp_Algo_Strategies
    ext_test -.-&gt; StockSharp_Diagram_Core
    ext_test -.-&gt; StockSharp_Alerts_Interfaces
    StockSharp_Algo_Strategies -.-&gt; ext_test
    ext_connector -.-&gt; StockSharp_Messages
    ext_connector -.-&gt; StockSharp_Media_Names
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-cat_test">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Test Projects (10)
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_test', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_test', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_test', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-cat_test">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph test[&quot;Test&quot;]
        StockSharp_Algo_Testing[&quot;Algo.Testing&quot;]
        StockSharp_Tests[&quot;Tests&quot;]
        StockSharp_04_Testing_HistoryConsole[&quot;04_Testing.HistoryConsole&quot;]
        StockSharp_04_Testing_HistoryConsole_fromsrc[&quot;04_Testing.HistoryConsole_fromsrc&quot;]
        StockSharp_02_Testing_Optimization[&quot;02_Testing.Optimization&quot;]
        StockSharp_02_Testing_Optimization_fromsrc[&quot;02_Testing.Optimization_fromsrc&quot;]
        StockSharp_01_Testing_History[&quot;01_Testing.History&quot;]
        StockSharp_01_Testing_History_fromsrc[&quot;01_Testing.History_fromsrc&quot;]
        StockSharp_03_Testing_RealTime_fromsrc[&quot;03_Testing.RealTime_fromsrc&quot;]
        StockSharp_03_Testing_RealTime[&quot;03_Testing.RealTime&quot;]
    end
    ext_library([&quot;Library (10)&quot;])
    StockSharp_Tests --&gt; StockSharp_Algo_Testing
    StockSharp_Algo_Testing -.-&gt; ext_library
    StockSharp_Tests -.-&gt; ext_library
    ext_library -.-&gt; StockSharp_Algo_Testing
    StockSharp_04_Testing_HistoryConsole -.-&gt; ext_library
    StockSharp_04_Testing_HistoryConsole_fromsrc -.-&gt; ext_library
    StockSharp_02_Testing_Optimization -.-&gt; ext_library
    StockSharp_02_Testing_Optimization_fromsrc -.-&gt; ext_library
    StockSharp_01_Testing_History -.-&gt; ext_library
    StockSharp_01_Testing_History_fromsrc -.-&gt; ext_library
    StockSharp_03_Testing_RealTime_fromsrc -.-&gt; ext_library
    StockSharp_03_Testing_RealTime -.-&gt; ext_library
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-cat_connector">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Connector Projects (7)
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_connector', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_connector', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_connector', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-cat_connector">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph connector[&quot;Connector&quot;]
        StockSharp_Coinbase[&quot;Coinbase&quot;]
        StockSharp_Bitexbook[&quot;Bitexbook&quot;]
        StockSharp_Tinkoff[&quot;Tinkoff&quot;]
        StockSharp_BitStamp[&quot;BitStamp&quot;]
        StockSharp_Bitalong[&quot;Bitalong&quot;]
        StockSharp_Btce[&quot;Btce&quot;]
        StockSharp_FTX[&quot;FTX&quot;]
    end
    ext_library([&quot;Library (2)&quot;])
    StockSharp_Coinbase -.-&gt; ext_library
    StockSharp_Bitexbook -.-&gt; ext_library
    StockSharp_Tinkoff -.-&gt; ext_library
    StockSharp_BitStamp -.-&gt; ext_library
    StockSharp_Bitalong -.-&gt; ext_library
    StockSharp_Btce -.-&gt; ext_library
    StockSharp_FTX -.-&gt; ext_library
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-cat_tool">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Tool Projects (3)
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_tool', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_tool', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_tool', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-cat_tool">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph tool[&quot;Tool&quot;]
        StockSharp_Localization_Extractor[&quot;Localization.Extractor&quot;]
        StockSharp_Localization_Generator[&quot;Localization.Generator&quot;]
        StockSharp_Media_Generator[&quot;Media.Generator&quot;]
    end
    ext_library([&quot;Library (1)&quot;])
    ext_library -.-&gt; StockSharp_Media_Generator
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-cat_desktopapp">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> DesktopApp Projects (1)
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_desktopapp', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_desktopapp', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-cat_desktopapp', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-cat_desktopapp">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph desktopapp[&quot;Desktopapp&quot;]
        StockSharp_Media[&quot;Media&quot;]
    end
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-dataflow">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Data Flow — Projects Connected Through Data Infrastructure
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-dataflow', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-dataflow', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-dataflow', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-dataflow">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph LR
    subgraph Projects[&quot;Services &amp; Projects&quot;]
        Tests[&quot;Tests&quot;]
    end
    subgraph APIs[&quot;API Routes&quot;]
        url_delete([&quot;delete&quot;])
        url_nonexistent([&quot;nonexistent&quot;])
        url_TestStorage([&quot;TestStorage&quot;])
        url_test_example_com([&quot;test@example.com&quot;])
        url_TEST_EXAMPLE_COM([&quot;TEST@EXAMPLE.COM&quot;])
    end
    url_delete -.-&gt;|consume| Tests
    url_nonexistent -.-&gt;|consume| Tests
    url_TestStorage -.-&gt;|consume| Tests
    url_test_example_com -.-&gt;|consume| Tests
    url_TEST_EXAMPLE_COM -.-&gt;|consume| Tests
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-businesslayers">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Business Layer Classification — Presentation / Engine / Service / DataAccess
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-businesslayers', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-businesslayers', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-businesslayers', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-businesslayers">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph TD
    layer_Presentation[&quot;Presentation (56)&quot;]
    layer_Engine[&quot;Engine (10)&quot;]
    layer_Service[&quot;Service (1)&quot;]
    layer_DataAccess[&quot;DataAccess (13)&quot;]
    layer_Infrastructure[&quot;Infrastructure (5)&quot;]
    layer_Unclassified[&quot;Unclassified (55)&quot;]
    layer_Presentation --&gt;|55 refs| layer_Engine
    layer_DataAccess --&gt;|18 refs| layer_Engine
    layer_Unclassified --&gt;|9 refs| layer_Engine
    layer_Unclassified --&gt;|7 refs| layer_DataAccess
    layer_Infrastructure --&gt;|3 refs| layer_DataAccess
    layer_Unclassified --&gt;|2 refs| layer_Infrastructure
    layer_Infrastructure --&gt;|2 refs| layer_Engine
    layer_Engine --&gt;|2 refs| layer_DataAccess
    layer_Engine --&gt;|2 refs| layer_Infrastructure
    layer_DataAccess --&gt;|1 refs| layer_Infrastructure
    layer_DataAccess --&gt;|1 refs| layer_Unclassified
    layer_Infrastructure --&gt;|1 refs| layer_Unclassified
    layer_Service --&gt;|1 refs| layer_DataAccess
    layer_Service --&gt;|1 refs| layer_Unclassified
    layer_Engine --&gt;|1 refs| layer_Unclassified
        </pre>
      </div>
    </div>
  </section>

  <section class="tab-panel" id="panel-e2eflowsdiagram">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> End-to-End Flow Paths — Screen to Pricer to Data
        <span class="zoom-controls">
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-e2eflowsdiagram', -0.2)" title="Zoom out">&#8722;</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-e2eflowsdiagram', 0)" title="Reset zoom">Reset</button>
          <button class="zoom-btn" onclick="zoomDiagram('mermaid-e2eflowsdiagram', 0.2)" title="Zoom in">&#43;</button>
        </span>
      </div>
      <div class="mermaid-wrap" id="mermaid-e2eflowsdiagram">
        <span class="loading">Loading diagram...</span>
        <pre class="mermaid" style="display:none">
graph TD
    subgraph sg_Presentation[&quot;Presentation (55)&quot;]
        grp_Strategies[&quot;Strategies (20)&quot;]
        grp_Testing[&quot;Testing (6)&quot;]
        grp_Chart[&quot;Chart (6)&quot;]
        grp_Indicators[&quot;Indicators (6)&quot;]
        grp_Basic[&quot;Basic (6)&quot;]
        grp_Candles[&quot;Candles (4)&quot;]
        grp_Advanced[&quot;Advanced (4)&quot;]
        grp_Other[&quot;Other (3)&quot;]
    end
    subgraph sg_Engine[&quot;Engine (1)&quot;]
        Algo[&quot;Algo&quot;]
    end
    subgraph sg_DataAccess[&quot;DataAccess (3)&quot;]
        BusinessEntities[&quot;BusinessEntities&quot;]
        Messages[&quot;Messages&quot;]
        Reporting[&quot;Reporting&quot;]
    end
    subgraph sg_Unclassified[&quot;Unclassified (1)&quot;]
        Charting_Interfaces[&quot;Charting.Interfaces&quot;]
    end
    grp_Candles --&gt; Algo
    Algo --&gt; Charting_Interfaces
    Charting_Interfaces --&gt; BusinessEntities
    grp_Testing --&gt; Algo
    grp_Strategies --&gt; Algo
    grp_Other --&gt; Algo
    grp_Advanced --&gt; Algo
    grp_Indicators --&gt; Algo
    grp_Basic --&gt; Algo
    grp_Chart --&gt; Algo
    Algo --&gt; Reporting
    Reporting --&gt; Messages
        </pre>
      </div>
    </div>
  </section>


  <section class="tab-panel" id="panel-datasources">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> Data Access Patterns</div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr><th>Pattern</th><th>Type</th><th>Occurrences</th><th>Key Projects</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>gRPC</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>984</td>
              <td>Tinkoff</td>
            </tr>
            <tr>
              <td><strong>Redis.Write</strong></td>
              <td><span class="tag tag-cache">Cache</span></td>
              <td>210</td>
              <td>04_Testing.HistoryConsole_fromsrc, Alerts.Interfaces, Algo, Algo.Gpu, Algo.Indicators, ... +6 more</td>
            </tr>
            <tr>
              <td><strong>gRPC.Server</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>125</td>
              <td>Tinkoff</td>
            </tr>
            <tr>
              <td><strong>IMessageAdapter</strong></td>
              <td><span class="tag tag-config">Connector</span></td>
              <td>104</td>
              <td>Algo, Algo.Testing, BitStamp, Bitalong, Bitexbook, ... +6 more</td>
            </tr>
            <tr>
              <td><strong>Redis.Read</strong></td>
              <td><span class="tag tag-cache">Cache</span></td>
              <td>104</td>
              <td>01_Chart, Algo, Algo.Gpu, Algo.Import, Configuration, ... +2 more</td>
            </tr>
            <tr>
              <td><strong>Kafka.Consumer</strong></td>
              <td><span class="tag tag-messaging">Messaging</span></td>
              <td>102</td>
              <td>01_Advanced.MultiConnect, 01_Basic.ConnectAndDownloadInstruments_fromsrc, 01_Candles.Realtime, 01_Chart, 01_CrossPlatform.ConsoleApp, ... +14 more</td>
            </tr>
            <tr>
              <td><strong>WPF.ViewModel</strong></td>
              <td><span class="tag tag-config">Ui</span></td>
              <td>16</td>
              <td>02_Chart.ActiveOrders_fromsrc, 09_Strategies.LiveOptionsQuoting, Diagram.Core</td>
            </tr>
            <tr>
              <td><strong>File.Read</strong></td>
              <td><span class="tag tag-config">Storage</span></td>
              <td>15</td>
              <td>Localization.Extractor, Tests</td>
            </tr>
            <tr>
              <td><strong>WebSocket</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>9</td>
              <td>BitStamp, Bitexbook, Btce, Coinbase, FTX</td>
            </tr>
            <tr>
              <td><strong>MongoDB.Read</strong></td>
              <td><span class="tag tag-db">Database</span></td>
              <td>8</td>
              <td>Algo, Algo.Strategies, Diagram.Core, Tests</td>
            </tr>
            <tr>
              <td><strong>File.Write</strong></td>
              <td><span class="tag tag-config">Storage</span></td>
              <td>5</td>
              <td>04_Testing.HistoryConsole_fromsrc, Localization.Extractor, Tests</td>
            </tr>
            <tr>
              <td><strong>HttpClient.DeleteAsync</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>5</td>
              <td>Tests</td>
            </tr>
            <tr>
              <td><strong>Kafka.Topic</strong></td>
              <td><span class="tag tag-messaging">Messaging</span></td>
              <td>5</td>
              <td>BitStamp, Bitexbook, Coinbase</td>
            </tr>
            <tr>
              <td><strong>HttpClient.GetAsync</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>1</td>
              <td>Tests</td>
            </tr>
            <tr>
              <td><strong>SqlClient</strong></td>
              <td><span class="tag tag-db">Database</span></td>
              <td>1</td>
              <td>Tests</td>
            </tr>
            <tr>
              <td><strong>ConnectionString</strong></td>
              <td><span class="tag tag-config">Config</span></td>
              <td>1</td>
              <td>Tests</td>
            </tr>
            <tr>
              <td><strong>SQL.CreateTable</strong></td>
              <td><span class="tag tag-db">Database</span></td>
              <td>1</td>
              <td>Algo.Analytics</td>
            </tr>
            <tr>
              <td><strong>WPF.Binding</strong></td>
              <td><span class="tag tag-config">Ui</span></td>
              <td>1</td>
              <td>03_Chart.Performance</td>
            </tr>
            <tr>
              <td><strong>gRPC.Client</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>1</td>
              <td>Tinkoff</td>
            </tr>
            <tr>
              <td><strong>HttpClient.New</strong></td>
              <td><span class="tag tag-api">Api</span></td>
              <td>1</td>
              <td>Bitalong</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>




  <section class="tab-panel" id="panel-e2eflows">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> End-to-End Flow Paths (110)</div>
      <p style="color:#94a3b8;font-size:0.85rem;margin-bottom:0.75rem;">
        Traces from UI screens through engines/services down to data endpoints.
        Click a row to see the full path detail with inline diagram.
      </p>
      <div style="margin-bottom:0.75rem;"><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(233,30,99,0.15);color:#E91E63;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">Presentation: 56</span><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(255,152,0,0.15);color:#FF9800;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">Engine: 10</span><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(52,152,219,0.15);color:#3498DB;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">Service: 1</span><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(74,144,217,0.15);color:#4A90D9;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">DataAccess: 13</span><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(155,89,182,0.15);color:#9B59B6;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">Infrastructure: 5</span><span style="display:inline-block;padding:0.2rem 0.6rem;border-radius:12px;background:rgba(100,116,139,0.15);color:#64748b;font-size:0.78rem;font-weight:600;margin-right:0.4rem;margin-bottom:0.3rem;">Unclassified: 55</span></div>
      <input type="text" id="flowSearchInput" placeholder="Search flows..." style="
        width:100%;max-width:400px;padding:0.4rem 0.7rem;border-radius:6px;
        border:1px solid #334155;background:#1e293b;color:#e2e8f0;
        font-size:0.85rem;margin-bottom:0.75rem;outline:none;
      ">
      <div class="table-wrap">
        <table>
          <thead>
            <tr><th>Source Screen</th><th>Layers Crossed</th><th>Depth</th><th>Path Chain</th><th>Named Flow</th></tr>
          </thead>
          <tbody id="flowPathsBody">
            <tr class="flow-row" data-flow-idx="0" data-search="01_candles.realtime_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Candles.Realtime_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Candles.Realtime_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="1" data-search="01_candles.realtime presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Candles.Realtime</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Candles.Realtime &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="2" data-search="02_candles.combinehistoryrealtime presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Candles.CombineHistoryRealtime</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Candles.CombineHistoryRealtime &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="3" data-search="02_candles.combinehistoryrealtime_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Candles.CombineHistoryRealtime_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Candles.CombineHistoryRealtime_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="4" data-search="02_testing.optimization presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Testing.Optimization</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Testing.Optimization &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="5" data-search="02_testing.optimization_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Testing.Optimization_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Testing.Optimization_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="6" data-search="01_testing.history presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Testing.History</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Testing.History &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="7" data-search="01_testing.history_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Testing.History_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Testing.History_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="8" data-search="03_testing.realtime_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Testing.RealTime_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Testing.RealTime_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="9" data-search="03_testing.realtime presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Testing.RealTime</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Testing.RealTime &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="10" data-search="06_strategies.historyquoting_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>06_Strategies.HistoryQuoting_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">06_Strategies.HistoryQuoting_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="11" data-search="06_strategies.historyquoting presentation, engine, unclassified, dataaccess ">
              <td><strong>06_Strategies.HistoryQuoting</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">06_Strategies.HistoryQuoting &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="12" data-search="04_strategies.historymarketrule presentation, engine, unclassified, dataaccess ">
              <td><strong>04_Strategies.HistoryMarketRule</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Strategies.HistoryMarketRule &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="13" data-search="04_strategies.historymarketrule_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>04_Strategies.HistoryMarketRule_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Strategies.HistoryMarketRule_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="14" data-search="08_strategies.livearbitrage_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>08_Strategies.LiveArbitrage_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">08_Strategies.LiveArbitrage_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="15" data-search="08_strategies.livearbitrage presentation, engine, unclassified, dataaccess ">
              <td><strong>08_Strategies.LiveArbitrage</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">08_Strategies.LiveArbitrage &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="16" data-search="03_strategies.historytrend_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Strategies.HistoryTrend_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Strategies.HistoryTrend_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="17" data-search="03_strategies.historytrend presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Strategies.HistoryTrend</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Strategies.HistoryTrend &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="18" data-search="05_strategies.historyindex_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>05_Strategies.HistoryIndex_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">05_Strategies.HistoryIndex_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="19" data-search="05_strategies.historyindex presentation, engine, unclassified, dataaccess ">
              <td><strong>05_Strategies.HistoryIndex</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">05_Strategies.HistoryIndex &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="20" data-search="10_strategies.liveterminal presentation, engine, unclassified, dataaccess ">
              <td><strong>10_Strategies.LiveTerminal</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">10_Strategies.LiveTerminal &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="21" data-search="10_strategies.liveterminal_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>10_Strategies.LiveTerminal_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">10_Strategies.LiveTerminal_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="22" data-search="07_strategies.livespread presentation, engine, unclassified, dataaccess ">
              <td><strong>07_Strategies.LiveSpread</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">07_Strategies.LiveSpread &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="23" data-search="07_strategies.livespread_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>07_Strategies.LiveSpread_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">07_Strategies.LiveSpread_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="24" data-search="02_strategies.historybollingerbands presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Strategies.HistoryBollingerBands</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Strategies.HistoryBollingerBands &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="25" data-search="02_strategies.historybollingerbands_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Strategies.HistoryBollingerBands_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Strategies.HistoryBollingerBands_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="26" data-search="01_strategies.historysma_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Strategies.HistorySMA_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Strategies.HistorySMA_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="27" data-search="01_strategies.historysma presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Strategies.HistorySMA</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Strategies.HistorySMA &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="28" data-search="09_strategies.liveoptionsquoting_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>09_Strategies.LiveOptionsQuoting_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">09_Strategies.LiveOptionsQuoting_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="29" data-search="09_strategies.liveoptionsquoting presentation, engine, unclassified, dataaccess ">
              <td><strong>09_Strategies.LiveOptionsQuoting</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">09_Strategies.LiveOptionsQuoting &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="30" data-search="04_storage.hydraserverconnect_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>04_Storage.HydraServerConnect_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Storage.HydraServerConnect_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="31" data-search="01_misc.logging_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Misc.Logging_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Misc.Logging_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="32" data-search="01_misc.logging presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Misc.Logging</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Misc.Logging &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="33" data-search="01_advanced.multiconnect_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Advanced.MultiConnect_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Advanced.MultiConnect_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="34" data-search="01_advanced.multiconnect presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Advanced.MultiConnect</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Advanced.MultiConnect &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="35" data-search="02_advanced.savedatalocal_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Advanced.SaveDataLocal_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Advanced.SaveDataLocal_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="36" data-search="02_advanced.savedatalocal presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Advanced.SaveDataLocal</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Advanced.SaveDataLocal &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="37" data-search="03_indicators.createown presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Indicators.CreateOwn</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Indicators.CreateOwn &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="38" data-search="03_indicators.createown_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Indicators.CreateOwn_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Indicators.CreateOwn_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="39" data-search="01_indicators.simplesma presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Indicators.SimpleSMA</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Indicators.SimpleSMA &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="40" data-search="01_indicators.simplesma_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Indicators.SimpleSMA_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Indicators.SimpleSMA_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="41" data-search="02_indicators.complexbollinger presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Indicators.ComplexBollinger</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Indicators.ComplexBollinger &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="42" data-search="02_indicators.complexbollinger_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Indicators.ComplexBollinger_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Indicators.ComplexBollinger_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="43" data-search="02_basic.marketdepths_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Basic.MarketDepths_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Basic.MarketDepths_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="44" data-search="02_basic.marketdepths presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Basic.MarketDepths</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Basic.MarketDepths &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="45" data-search="03_basic.orders_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Basic.Orders_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Basic.Orders_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="46" data-search="03_basic.orders presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Basic.Orders</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Basic.Orders &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="47" data-search="01_basic.connectanddownloadinstruments presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Basic.ConnectAndDownloadInstruments</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Basic.ConnectAndDownloadInstruments &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="48" data-search="01_basic.connectanddownloadinstruments_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Basic.ConnectAndDownloadInstruments_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Basic.ConnectAndDownloadInstruments_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="49" data-search="02_chart.activeorders presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Chart.ActiveOrders</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Chart.ActiveOrders &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="50" data-search="02_chart.activeorders_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>02_Chart.ActiveOrders_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Chart.ActiveOrders_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="51" data-search="01_chart_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Chart_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Chart_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="52" data-search="01_chart presentation, engine, unclassified, dataaccess ">
              <td><strong>01_Chart</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Chart &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="53" data-search="03_chart.performance_fromsrc presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Chart.Performance_fromsrc</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Chart.Performance_fromsrc &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="54" data-search="03_chart.performance presentation, engine, unclassified, dataaccess ">
              <td><strong>03_Chart.Performance</strong></td>
              <td>Presentation, Engine, Unclassified, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Chart.Performance &rarr; Algo &rarr; Charting.Interfaces &rarr; BusinessEntities</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="55" data-search="01_candles.realtime_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Candles.Realtime_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Candles.Realtime_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="56" data-search="01_candles.realtime presentation, engine, dataaccess ">
              <td><strong>01_Candles.Realtime</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Candles.Realtime &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="57" data-search="02_candles.combinehistoryrealtime presentation, engine, dataaccess ">
              <td><strong>02_Candles.CombineHistoryRealtime</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Candles.CombineHistoryRealtime &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="58" data-search="02_candles.combinehistoryrealtime_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Candles.CombineHistoryRealtime_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Candles.CombineHistoryRealtime_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="59" data-search="02_testing.optimization presentation, engine, dataaccess ">
              <td><strong>02_Testing.Optimization</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Testing.Optimization &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="60" data-search="02_testing.optimization_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Testing.Optimization_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Testing.Optimization_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="61" data-search="01_testing.history presentation, engine, dataaccess ">
              <td><strong>01_Testing.History</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Testing.History &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="62" data-search="01_testing.history_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Testing.History_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Testing.History_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="63" data-search="03_testing.realtime_fromsrc presentation, engine, dataaccess ">
              <td><strong>03_Testing.RealTime_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Testing.RealTime_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="64" data-search="03_testing.realtime presentation, engine, dataaccess ">
              <td><strong>03_Testing.RealTime</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Testing.RealTime &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="65" data-search="06_strategies.historyquoting_fromsrc presentation, engine, dataaccess ">
              <td><strong>06_Strategies.HistoryQuoting_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">06_Strategies.HistoryQuoting_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="66" data-search="06_strategies.historyquoting presentation, engine, dataaccess ">
              <td><strong>06_Strategies.HistoryQuoting</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">06_Strategies.HistoryQuoting &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="67" data-search="04_strategies.historymarketrule presentation, engine, dataaccess ">
              <td><strong>04_Strategies.HistoryMarketRule</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Strategies.HistoryMarketRule &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="68" data-search="04_strategies.historymarketrule_fromsrc presentation, engine, dataaccess ">
              <td><strong>04_Strategies.HistoryMarketRule_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Strategies.HistoryMarketRule_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="69" data-search="08_strategies.livearbitrage_fromsrc presentation, engine, dataaccess ">
              <td><strong>08_Strategies.LiveArbitrage_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">08_Strategies.LiveArbitrage_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="70" data-search="08_strategies.livearbitrage presentation, engine, dataaccess ">
              <td><strong>08_Strategies.LiveArbitrage</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">08_Strategies.LiveArbitrage &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="71" data-search="03_strategies.historytrend_fromsrc presentation, engine, dataaccess ">
              <td><strong>03_Strategies.HistoryTrend_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Strategies.HistoryTrend_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="72" data-search="03_strategies.historytrend presentation, engine, dataaccess ">
              <td><strong>03_Strategies.HistoryTrend</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Strategies.HistoryTrend &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="73" data-search="05_strategies.historyindex_fromsrc presentation, engine, dataaccess ">
              <td><strong>05_Strategies.HistoryIndex_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">05_Strategies.HistoryIndex_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="74" data-search="05_strategies.historyindex presentation, engine, dataaccess ">
              <td><strong>05_Strategies.HistoryIndex</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">05_Strategies.HistoryIndex &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="75" data-search="10_strategies.liveterminal presentation, engine, dataaccess ">
              <td><strong>10_Strategies.LiveTerminal</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">10_Strategies.LiveTerminal &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="76" data-search="10_strategies.liveterminal_fromsrc presentation, engine, dataaccess ">
              <td><strong>10_Strategies.LiveTerminal_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">10_Strategies.LiveTerminal_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="77" data-search="07_strategies.livespread presentation, engine, dataaccess ">
              <td><strong>07_Strategies.LiveSpread</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">07_Strategies.LiveSpread &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="78" data-search="07_strategies.livespread_fromsrc presentation, engine, dataaccess ">
              <td><strong>07_Strategies.LiveSpread_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">07_Strategies.LiveSpread_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="79" data-search="02_strategies.historybollingerbands presentation, engine, dataaccess ">
              <td><strong>02_Strategies.HistoryBollingerBands</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Strategies.HistoryBollingerBands &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="80" data-search="02_strategies.historybollingerbands_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Strategies.HistoryBollingerBands_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Strategies.HistoryBollingerBands_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="81" data-search="01_strategies.historysma_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Strategies.HistorySMA_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Strategies.HistorySMA_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="82" data-search="01_strategies.historysma presentation, engine, dataaccess ">
              <td><strong>01_Strategies.HistorySMA</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Strategies.HistorySMA &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="83" data-search="09_strategies.liveoptionsquoting_fromsrc presentation, engine, dataaccess ">
              <td><strong>09_Strategies.LiveOptionsQuoting_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">09_Strategies.LiveOptionsQuoting_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="84" data-search="09_strategies.liveoptionsquoting presentation, engine, dataaccess ">
              <td><strong>09_Strategies.LiveOptionsQuoting</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">09_Strategies.LiveOptionsQuoting &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="85" data-search="04_storage.hydraserverconnect_fromsrc presentation, engine, dataaccess ">
              <td><strong>04_Storage.HydraServerConnect_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">04_Storage.HydraServerConnect_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="86" data-search="01_misc.logging_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Misc.Logging_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Misc.Logging_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="87" data-search="01_misc.logging presentation, engine, dataaccess ">
              <td><strong>01_Misc.Logging</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Misc.Logging &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="88" data-search="01_advanced.multiconnect_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Advanced.MultiConnect_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Advanced.MultiConnect_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="89" data-search="01_advanced.multiconnect presentation, engine, dataaccess ">
              <td><strong>01_Advanced.MultiConnect</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Advanced.MultiConnect &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="90" data-search="02_advanced.savedatalocal_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Advanced.SaveDataLocal_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Advanced.SaveDataLocal_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="91" data-search="02_advanced.savedatalocal presentation, engine, dataaccess ">
              <td><strong>02_Advanced.SaveDataLocal</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Advanced.SaveDataLocal &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="92" data-search="03_indicators.createown presentation, engine, dataaccess ">
              <td><strong>03_Indicators.CreateOwn</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Indicators.CreateOwn &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="93" data-search="03_indicators.createown_fromsrc presentation, engine, dataaccess ">
              <td><strong>03_Indicators.CreateOwn_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">03_Indicators.CreateOwn_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="94" data-search="01_indicators.simplesma presentation, engine, dataaccess ">
              <td><strong>01_Indicators.SimpleSMA</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Indicators.SimpleSMA &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="95" data-search="01_indicators.simplesma_fromsrc presentation, engine, dataaccess ">
              <td><strong>01_Indicators.SimpleSMA_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">01_Indicators.SimpleSMA_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="96" data-search="02_indicators.complexbollinger presentation, engine, dataaccess ">
              <td><strong>02_Indicators.ComplexBollinger</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Indicators.ComplexBollinger &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="97" data-search="02_indicators.complexbollinger_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Indicators.ComplexBollinger_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Indicators.ComplexBollinger_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="98" data-search="02_basic.marketdepths_fromsrc presentation, engine, dataaccess ">
              <td><strong>02_Basic.MarketDepths_fromsrc</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Basic.MarketDepths_fromsrc &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
            <tr class="flow-row" data-flow-idx="99" data-search="02_basic.marketdepths presentation, engine, dataaccess ">
              <td><strong>02_Basic.MarketDepths</strong></td>
              <td>Presentation, Engine, DataAccess</td>
              <td style="text-align:center">4</td>
              <td style="font-size:0.78rem">02_Basic.MarketDepths &rarr; Algo &rarr; Reporting &rarr; Messages</td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div id="flowDetailContainer" style="margin-top:1rem;display:none;">
        <div class="card" style="border-color:#3b82f6;">
          <div class="card-title"><span class="icon">&#9670;</span> Flow Detail
            <button onclick="document.getElementById('flowDetailContainer').style.display='none'" style="margin-left:auto;background:none;border:1px solid #475569;color:#94a3b8;border-radius:4px;cursor:pointer;padding:0.1rem 0.5rem;font-size:0.8rem;">Close</button>
          </div>
          <div id="flowDetailContent"></div>
          <div class="mermaid-wrap" id="flowDetailMermaid" style="margin-top:0.75rem;"></div>
        </div>
      </div>
    </div>
  </section>


  <section class="tab-panel" id="panel-allprojects">
    <div class="card">
      <div class="card-title"><span class="icon">&#9670;</span> All Projects</div>
      <div class="table-wrap">
        <table id="projectsTable">
          <thead>
            <tr>
              <th>Project</th>
              <th>Repo</th>
              <th>Category</th>
              <th>Business Layer</th>
              <th>Project Refs</th>
              <th>NuGet Deps</th>
              <th>Path</th>
            </tr>
          </thead>
          <tbody id="projectsBody">
            <tr><td colspan="7" style="text-align:center;color:#64748b;padding:2rem;">Loading project data...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

</main>

<footer class="footer">
  Generated by Dependency Mapper (Python) &mdash; 2026-02-11
</footer>

<script>
var diagramZoomLevels = {};

function attachEdgeTooltips(svg) {
  var tooltip = document.getElementById('edgeTooltip');
  if (!tooltip) return;

  // Build node ID -> display name lookup from rendered nodes
  var nodeNames = {};
  svg.querySelectorAll('.node').forEach(function (n) {
    var match = n.id.match(/^flowchart-(.+)-\d+$/);
    if (match) {
      nodeNames[match[1]] = n.textContent.trim();
    }
  });

  // Get sorted node keys longest-first for greedy matching
  var nodeKeys = Object.keys(nodeNames).sort(function (a, b) { return b.length - a.length; });

  function resolveEdgeEndpoints(edgeId) {
    var inner = edgeId.replace(/^L_/, '').replace(/_\d+$/, '');
    for (var i = 0; i < nodeKeys.length; i++) {
      var key = nodeKeys[i];
      if (inner.indexOf(key) === 0) {
        var rest = inner.substring(key.length + 1);
        if (nodeNames[rest] !== undefined) {
          return { from: nodeNames[key], to: nodeNames[rest] };
        }
      }
    }
    return null;
  }

  // For each edge path, create a wider invisible hover target and attach events
  var edgePaths = svg.querySelector('.edgePaths');
  if (!edgePaths) return;

  svg.querySelectorAll('.flowchart-link').forEach(function (edge) {
    if (!edge.id) return;

    // Clone the path as a wider invisible hover target
    var hitArea = edge.cloneNode(false);
    hitArea.removeAttribute('id');
    hitArea.removeAttribute('marker-end');
    hitArea.setAttribute('class', 'edge-hover-target');
    hitArea.removeAttribute('style');
    edge.parentNode.insertBefore(hitArea, edge);

    function showTip(e) {
      var ep = resolveEdgeEndpoints(edge.id);
      if (!ep) return;
      tooltip.innerHTML = '<span class="edge-from">' + ep.from + '</span>'
        + '<span class="edge-arrow"> &#8594; </span>'
        + '<span class="edge-to">' + ep.to + '</span>';
      tooltip.style.display = 'block';
      tooltip.style.left = (e.clientX + 12) + 'px';
      tooltip.style.top = (e.clientY - 10) + 'px';
      edge.classList.add('edge-highlight');
      // Dim other edges
      svg.querySelectorAll('.flowchart-link').forEach(function (other) {
        if (other !== edge) other.style.opacity = '0.15';
      });
    }

    function moveTip(e) {
      tooltip.style.left = (e.clientX + 12) + 'px';
      tooltip.style.top = (e.clientY - 10) + 'px';
    }

    function hideTip() {
      tooltip.style.display = 'none';
      edge.classList.remove('edge-highlight');
      svg.querySelectorAll('.flowchart-link').forEach(function (other) {
        other.style.opacity = '';
      });
    }

    function onClick(e) {
      e.stopPropagation();
      var ep = resolveEdgeEndpoints(edge.id);
      if (!ep) return;
      var meta = (window._projData || {}).meta || [];
      var fromIsProject = meta.some(function (m) { return m.project === ep.from; });
      var toIsProject = meta.some(function (m) { return m.project === ep.to; });
      if (fromIsProject && toIsProject) { showEdgeDetail(ep.from, ep.to); }
      else { showDataFlowDetail(ep.from, ep.to, fromIsProject, toIsProject); }
    }

    hitArea.addEventListener('mouseenter', showTip);
    hitArea.addEventListener('mousemove', moveTip);
    hitArea.addEventListener('mouseleave', hideTip);
    hitArea.addEventListener('click', onClick);
    edge.addEventListener('mouseenter', showTip);
    edge.addEventListener('mousemove', moveTip);
    edge.addEventListener('mouseleave', hideTip);
    edge.addEventListener('click', onClick);
  });
}

function showEdgeDetail(fromName, toName) {
  var panel = document.getElementById('edgeDetailPanel');
  if (!panel) return;
  var d = window._projData || {};
  var refs = d.refs || [], deps = d.deps || [], meta = d.meta || [], dataSrc = d.dataSources || [];

  // Find meta for both projects (match by short name — the display name)
  var fromMeta = meta.find(function (m) { return m.project === fromName; });
  var toMeta = meta.find(function (m) { return m.project === toName; });

  // Find direct references between these projects
  var directRefs = refs.filter(function (r) {
    return (r.project === fromName && r.references === toName) ||
           (r.project === toName && r.references === fromName);
  });

  // Find NuGet packages used by the source project
  var fromDeps = deps.filter(function (d) { return d.project === fromName; });
  var toDeps = deps.filter(function (d) { return d.project === toName; });
  // Find shared NuGet packages
  var toPackages = {};
  toDeps.forEach(function (d) { toPackages[d.package] = d.version; });
  var sharedPkgs = fromDeps.filter(function (d) { return toPackages[d.package]; });

  // Find data patterns for both projects
  // Project path is like "src/Foo/Foo.csproj" — directory is everything up to the last "/"
  var fromPath = fromMeta ? (fromMeta.globalPath || fromMeta.path || '') : '';
  var toPath = toMeta ? (toMeta.globalPath || toMeta.path || '') : '';
  var fromDir = fromPath.substring(0, fromPath.lastIndexOf('/'));
  var toDir = toPath.substring(0, toPath.lastIndexOf('/'));
  var fromDataPatterns = fromDir ? dataSrc.filter(function (ds) { return ds.file && ds.file.indexOf(fromDir + '/') === 0; }) : [];
  var toDataPatterns = toDir ? dataSrc.filter(function (ds) { return ds.file && ds.file.indexOf(toDir + '/') === 0; }) : [];

  // Find shared data pattern types
  var fromPatternTypes = {};
  fromDataPatterns.forEach(function (p) { fromPatternTypes[p.pattern] = true; });
  var sharedPatterns = toDataPatterns.filter(function (p) { return fromPatternTypes[p.pattern]; });
  // Unique shared pattern names
  var sharedPatternNames = {};
  sharedPatterns.forEach(function (p) { sharedPatternNames[p.pattern] = (sharedPatternNames[p.pattern] || 0) + 1; });

  // Build HTML
  var html = '<div class="detail-header"><h3>Dependency Detail</h3>'
    + '<button class="detail-close" id="detailCloseBtn">Close</button></div>';

  // Flow
  html += '<div class="detail-section"><div class="detail-flow">'
    + '<span class="from">' + escHtmlGlobal(fromName) + '</span>'
    + '<span class="arrow">&#8594;</span>'
    + '<span class="to">' + escHtmlGlobal(toName) + '</span>'
    + '</div>';
  if (fromMeta || toMeta) {
    html += '<div style="font-size:0.75rem;color:#94a3b8;margin-top:0.2rem;">';
    if (fromMeta) html += escHtmlGlobal(fromMeta.category);
    html += ' &#8594; ';
    if (toMeta) html += escHtmlGlobal(toMeta.category);
    html += '</div>';
  }
  html += '</div>';

  // Project references
  html += '<div class="detail-section"><h4>Project References</h4>';
  if (directRefs.length > 0) {
    html += '<ul class="detail-list">';
    directRefs.forEach(function (r) {
      var cross = r.crossRepo === 'True' ? ' <span style="color:#f59e0b;">(cross-repo)</span>' : '';
      html += '<li>' + escHtmlGlobal(r.project) + ' &#8594; ' + escHtmlGlobal(r.references) + cross + '</li>';
    });
    html += '</ul>';
  } else {
    html += '<div class="detail-empty">No direct project references found</div>';
  }
  html += '</div>';

  // Shared NuGet packages
  html += '<div class="detail-section"><h4>Shared NuGet Packages (' + sharedPkgs.length + ')</h4>';
  if (sharedPkgs.length > 0) {
    html += '<ul class="detail-list">';
    sharedPkgs.slice(0, 15).forEach(function (d) {
      html += '<li>' + escHtmlGlobal(d.package) + ' <span style="color:#94a3b8">' + escHtmlGlobal(d.version) + '</span></li>';
    });
    if (sharedPkgs.length > 15) html += '<li style="color:#64748b">... and ' + (sharedPkgs.length - 15) + ' more</li>';
    html += '</ul>';
  } else {
    html += '<div class="detail-empty">No shared NuGet packages</div>';
  }
  html += '</div>';

  // Data patterns
  var totalFromPatterns = fromDataPatterns.length;
  var totalToPatterns = toDataPatterns.length;
  html += '<div class="detail-section"><h4>Data Patterns</h4>';
  html += '<div style="font-size:0.78rem;color:#cbd5e1;margin-bottom:0.3rem;">'
    + '<span class="from" style="color:#60a5fa">' + escHtmlGlobal(fromName) + '</span>: ' + totalFromPatterns + ' patterns, '
    + '<span class="to" style="color:#34d399">' + escHtmlGlobal(toName) + '</span>: ' + totalToPatterns + ' patterns</div>';
  var sharedKeys = Object.keys(sharedPatternNames);
  if (sharedKeys.length > 0) {
    html += '<ul class="detail-list">';
    sharedKeys.forEach(function (p) {
      html += '<li>' + escHtmlGlobal(p) + ' <span style="color:#94a3b8">(' + sharedPatternNames[p] + ' matches in target)</span></li>';
    });
    html += '</ul>';
  } else {
    html += '<div class="detail-empty">No shared data patterns</div>';
  }
  html += '</div>';

  // Data Flow section (from data-flow.json)
  var df = window._dataFlow || {};
  var dfNodes = df.dataNodes || [];
  var dfImplied = df.impliedDependencies || [];

  // Find data nodes that both projects connect to
  var sharedDataNodes = dfNodes.filter(function (n) {
    var allFrom = (n.writers || []).concat(n.readers || []).concat(n.exposers || []).concat(n.consumers || []);
    var allTo = (n.writers || []).concat(n.readers || []).concat(n.exposers || []).concat(n.consumers || []);
    var fromConnected = allFrom.indexOf(fromName) !== -1;
    var toConnected = allTo.indexOf(toName) !== -1;
    return fromConnected && toConnected;
  });

  // Find implied dependencies between these projects
  var relevantImplied = dfImplied.filter(function (d) {
    return (d.from === fromName && d.to === toName) || (d.from === toName && d.to === fromName);
  });

  html += '<div class="detail-section"><h4>Data Flow</h4>';
  if (sharedDataNodes.length > 0 || relevantImplied.length > 0) {
    if (sharedDataNodes.length > 0) {
      html += '<div style="font-size:0.78rem;color:#cbd5e1;margin-bottom:0.3rem;">Shared data infrastructure:</div>';
      html += '<ul class="detail-list">';
      sharedDataNodes.slice(0, 10).forEach(function (n) {
        var fromRole = [];
        var toRole = [];
        if ((n.writers || []).indexOf(fromName) !== -1) fromRole.push('writes');
        if ((n.readers || []).indexOf(fromName) !== -1) fromRole.push('reads');
        if ((n.exposers || []).indexOf(fromName) !== -1) fromRole.push('exposes');
        if ((n.consumers || []).indexOf(fromName) !== -1) fromRole.push('consumes');
        if ((n.writers || []).indexOf(toName) !== -1) toRole.push('writes');
        if ((n.readers || []).indexOf(toName) !== -1) toRole.push('reads');
        if ((n.exposers || []).indexOf(toName) !== -1) toRole.push('exposes');
        if ((n.consumers || []).indexOf(toName) !== -1) toRole.push('consumes');
        var infraLabel = n.infrastructure || n.type || '';
        html += '<li><strong>' + escHtmlGlobal(n.name) + '</strong> <span style="color:#94a3b8">(' + infraLabel + ')</span><br/>'
          + '<span style="color:#60a5fa">' + escHtmlGlobal(fromName) + '</span>: ' + fromRole.join(', ') + ' &mdash; '
          + '<span style="color:#34d399">' + escHtmlGlobal(toName) + '</span>: ' + toRole.join(', ')
          + '</li>';
      });
      if (sharedDataNodes.length > 10) html += '<li style="color:#64748b">... and ' + (sharedDataNodes.length - 10) + ' more</li>';
      html += '</ul>';
    }
    if (relevantImplied.length > 0) {
      html += '<div style="font-size:0.78rem;color:#f59e0b;margin-top:0.3rem;">&#9888; Implied data dependencies:</div>';
      html += '<ul class="detail-list">';
      relevantImplied.forEach(function (d) {
        html += '<li>' + escHtmlGlobal(d.from) + ' &#8594; ' + escHtmlGlobal(d.to) + ' via <strong>' + escHtmlGlobal(d.via) + '</strong> (' + escHtmlGlobal(d.viaType) + ')</li>';
      });
      html += '</ul>';
    }
  } else {
    html += '<div class="detail-empty">No shared data flow connections</div>';
  }
  html += '</div>';

  panel.innerHTML = html;
  panel.style.display = 'block';
  var closeBtn = document.getElementById('detailCloseBtn');
  if (closeBtn) closeBtn.addEventListener('click', function () { panel.style.display = 'none'; });
}

function showDataFlowDetail(fromName, toName, fromIsProject, toIsProject) {
  var panel = document.getElementById('edgeDetailPanel');
  if (!panel) return;
  var df = window._dataFlow || {};
  var nodes = df.dataNodes || [];
  var implied = df.impliedDependencies || [];

  // Determine which is the project and which is the data node
  var projectName = fromIsProject ? fromName : toName;
  var dataName = fromIsProject ? toName : fromName;

  // Find matching data node (match by name since Mermaid shows display names)
  var dataNode = nodes.find(function (n) { return n.name === dataName; });

  var html = '<div class="detail-header"><h3>Data Flow Detail</h3>'
    + '<button class="detail-close" id="detailCloseBtn">Close</button></div>';

  // Edge direction
  html += '<div class="detail-section"><div class="detail-flow">'
    + '<span class="' + (fromIsProject ? 'from' : 'to') + '">' + escHtmlGlobal(fromName) + '</span>'
    + '<span class="arrow">&#8594;</span>'
    + '<span class="' + (toIsProject ? 'from' : 'to') + '">' + escHtmlGlobal(toName) + '</span>'
    + '</div></div>';

  if (dataNode) {
    // Data node info
    html += '<div class="detail-section"><h4>' + escHtmlGlobal(dataNode.type) + ': ' + escHtmlGlobal(dataNode.name) + '</h4>';
    html += '<div style="font-size:0.78rem;color:#94a3b8;margin-bottom:0.4rem;">Infrastructure: ' + escHtmlGlobal(dataNode.infrastructure) + '</div>';

    // Writers
    var writers = dataNode.writers || [];
    if (writers.length > 0) {
      html += '<div style="margin-bottom:0.3rem;"><strong style="color:#f59e0b;font-size:0.78rem;">&#9654; Writers:</strong> ';
      html += writers.map(function (w) {
        var style = w === projectName ? 'color:#60a5fa;font-weight:600' : 'color:#cbd5e1';
        return '<span style="' + style + '">' + escHtmlGlobal(w) + '</span>';
      }).join(', ');
      html += '</div>';
    }

    // Readers
    var readers = dataNode.readers || [];
    if (readers.length > 0) {
      html += '<div style="margin-bottom:0.3rem;"><strong style="color:#3b82f6;font-size:0.78rem;">&#9664; Readers:</strong> ';
      html += readers.map(function (r) {
        var style = r === projectName ? 'color:#60a5fa;font-weight:600' : 'color:#cbd5e1';
        return '<span style="' + style + '">' + escHtmlGlobal(r) + '</span>';
      }).join(', ');
      html += '</div>';
    }

    // Exposers
    var exposers = dataNode.exposers || [];
    if (exposers.length > 0) {
      html += '<div style="margin-bottom:0.3rem;"><strong style="color:#10b981;font-size:0.78rem;">&#9650; Exposes:</strong> ';
      html += exposers.map(function (x) {
        var style = x === projectName ? 'color:#60a5fa;font-weight:600' : 'color:#cbd5e1';
        return '<span style="' + style + '">' + escHtmlGlobal(x) + '</span>';
      }).join(', ');
      html += '</div>';
    }

    // Consumers
    var consumers = dataNode.consumers || [];
    if (consumers.length > 0) {
      html += '<div style="margin-bottom:0.3rem;"><strong style="color:#8b5cf6;font-size:0.78rem;">&#9660; Consumers:</strong> ';
      html += consumers.map(function (c) {
        var style = c === projectName ? 'color:#60a5fa;font-weight:600' : 'color:#cbd5e1';
        return '<span style="' + style + '">' + escHtmlGlobal(c) + '</span>';
      }).join(', ');
      html += '</div>';
    }
    html += '</div>';

    // Implied dependencies through this node
    var nodeImplied = implied.filter(function (d) { return d.via === dataNode.name; });
    if (nodeImplied.length > 0) {
      html += '<div class="detail-section"><h4>Implied Dependencies</h4>';
      html += '<ul class="detail-list">';
      nodeImplied.forEach(function (d) {
        html += '<li>' + escHtmlGlobal(d.from) + ' &#8594; ' + escHtmlGlobal(d.to)
          + ' <span style="color:#94a3b8">(' + escHtmlGlobal(d.viaType) + ')</span></li>';
      });
      html += '</ul></div>';
    }
  } else {
    html += '<div class="detail-section"><div class="detail-empty">Data node details not available</div></div>';
  }

  panel.innerHTML = html;
  panel.style.display = 'block';
  var closeBtn = document.getElementById('detailCloseBtn');
  if (closeBtn) closeBtn.addEventListener('click', function () { panel.style.display = 'none'; });
}

function escHtmlGlobal(s) {
  var d = document.createElement('div');
  d.textContent = s || '';
  return d.innerHTML;
}

function zoomDiagram(containerId, delta) {
  if (delta === 0) { diagramZoomLevels[containerId] = 1; }
  else { diagramZoomLevels[containerId] = Math.max(0.2, Math.min(3, (diagramZoomLevels[containerId] || 1) + delta)); }
  var container = document.getElementById(containerId);
  if (!container) return;
  var svg = container.querySelector('svg');
  if (!svg) return;
  var scale = diagramZoomLevels[containerId];
  svg.style.transform = 'scale(' + scale + ')';
}

(function () {
  'use strict';

  var categoryClass = {
    'webapp': 'tag-webapp', 'library': 'tag-library', 'application': 'tag-application',
    'service': 'tag-service', 'tool': 'tag-tool', 'test': 'tag-test',
    'connector': 'tag-connector', 'desktopapp': 'tag-desktopapp'
  };

  function tagHTML(category) {
    var lower = (category || '').toLowerCase();
    var cls = categoryClass[lower] || 'tag-service';
    return '<span class="tag ' + cls + '">' + escHtml(category) + '</span>';
  }

  var layerClass = {
    'presentation': 'tag-presentation', 'engine': 'tag-connector',
    'service': 'tag-service', 'dataaccess': 'tag-dataaccess',
    'infrastructure': 'tag-infrastructure', 'unclassified': 'tag-unclassified'
  };

  function layerTagHTML(layer, confidence) {
    if (!layer) return '';
    var lower = layer.toLowerCase();
    var cls = layerClass[lower] || 'tag-unclassified';
    var confColor = confidence >= 0.7 ? '#22c55e' : confidence >= 0.4 ? '#eab308' : '#ef4444';
    var confDot = '<span style="display:inline-block;width:6px;height:6px;border-radius:50%;background:' + confColor + ';margin-left:4px;" title="Confidence: ' + (confidence * 100).toFixed(0) + '%"></span>';
    return '<span class="tag ' + cls + '">' + escHtml(layer) + confDot + '</span>';
  }

  function escHtml(s) {
    var d = document.createElement('div');
    d.textContent = s;
    return d.innerHTML;
  }

  function parseCSV(text) {
    var lines = text.trim().split('\n');
    if (lines.length === 0) return [];
    var headers = lines[0].split(',');
    var rows = [];
    for (var i = 1; i < lines.length; i++) {
      var vals = lines[i].split(',');
      var obj = {};
      headers.forEach(function (h, idx) { obj[h.trim()] = (vals[idx] || '').trim(); });
      rows.push(obj);
    }
    return rows;
  }

  var tabButtons = document.querySelectorAll('.tab-btn');
  var tabPanels  = document.querySelectorAll('.tab-panel');
  var renderedTabs = {};

  function activateTab(tabId) {
    tabButtons.forEach(function (b) { b.classList.toggle('active', b.dataset.tab === tabId); });
    tabPanels.forEach(function (p)  { p.classList.toggle('active', p.id === 'panel-' + tabId); });
    lazyRenderMermaid(tabId);
  }

  tabButtons.forEach(function (btn) {
    btn.addEventListener('click', function () { activateTab(btn.dataset.tab); });
  });

  var mermaidContainers = { 'overview': 'mermaid-overview', 'cat_library': 'mermaid-cat_library', 'cat_test': 'mermaid-cat_test', 'cat_connector': 'mermaid-cat_connector', 'cat_tool': 'mermaid-cat_tool', 'cat_desktopapp': 'mermaid-cat_desktopapp', 'dataflow': 'mermaid-dataflow', 'businesslayers': 'mermaid-businesslayers', 'e2eflowsdiagram': 'mermaid-e2eflowsdiagram' };

  function lazyRenderMermaid(tabId) {
    var containerId = mermaidContainers[tabId];
    if (!containerId || renderedTabs[tabId]) return;

    function doRender() {
      var container = document.getElementById(containerId);
      if (!container) return;
      var pre = container.querySelector('pre.mermaid');
      if (!pre) return;
      renderedTabs[tabId] = true;
      var loading = container.querySelector('.loading');
      pre.style.display = '';
      if (loading) loading.style.display = 'none';
      window.mermaidAPI.run({ nodes: [pre] }).then(function () {
        // Fix SVG sizing: use natural viewBox width instead of 100%
        var svg = container.querySelector('svg');
        if (svg) {
          var vb = svg.getAttribute('viewBox');
          if (vb) {
            var parts = vb.split(' ');
            var naturalWidth = parseFloat(parts[2]);
            var naturalHeight = parseFloat(parts[3]);
            svg.style.width = naturalWidth + 'px';
            svg.style.height = naturalHeight + 'px';
            svg.style.maxWidth = 'none';
            svg.removeAttribute('width');
          }
          attachEdgeTooltips(svg);
        }
      }).catch(function (err) {
        console.error('Mermaid render error for ' + tabId + ':', err);
        if (loading) { loading.textContent = 'Diagram rendering failed.'; loading.style.display = ''; }
      });
    }

    if (window.mermaidAPI) { doRender(); }
    else {
      var interval = setInterval(function () {
        if (window.mermaidAPI) { clearInterval(interval); doRender(); }
      }, 150);
    }
  }

  // Render first tab on load
  var firstTab = document.querySelector('.tab-btn');
  if (firstTab) lazyRenderMermaid(firstTab.dataset.tab);

  // Global project data for edge detail lookups
  window._projData = { meta: [], refs: [], deps: [], dataSources: [] };
  window._dataFlow = { dataNodes: [], dataEdges: [], impliedDependencies: [], infrastructureGroups: [] };

  // Load data-flow.json for edge detail panel
  fetch('data-flow.json').then(function (r) { return r.json(); }).then(function (df) {
    window._dataFlow = df;
  }).catch(function () { /* data-flow.json may not exist on older runs */ });

  // Load flow-paths.json for E2E flows tab, then load All Projects data
  window._flowData = { businessLayers: {}, flowPaths: [], layerSummary: {} };
  fetch('flow-paths.json').then(function (r) { return r.json(); }).then(function (fd) {
    window._flowData = fd;
  }).catch(function () { /* flow-paths.json may not exist */ }).finally(function () {

  // Load All Projects data (after flow-paths.json)
  Promise.all([
    fetch('project-meta.json').then(function (r) { return r.json(); }),
    fetch('project-refs.csv').then(function (r) { return r.text(); }),
    fetch('dependencies.csv').then(function (r) { return r.text(); }),
    fetch('data-sources.json').then(function (r) { return r.json(); }).catch(function () { return []; })
  ]).then(function (results) {
    var meta = results[0], refs = parseCSV(results[1]), deps = parseCSV(results[2]), dataSrc = results[3];
    window._projData = { meta: meta, refs: refs, deps: deps, dataSources: dataSrc };
    var refCounts = {}, depCounts = {};
    refs.forEach(function (r) { refCounts[r.project] = (refCounts[r.project] || 0) + 1; });
    deps.forEach(function (d) { depCounts[d.project] = (depCounts[d.project] || 0) + 1; });
    var tbody = document.getElementById('projectsBody');
    tbody.innerHTML = '';
    var bl = (window._flowData || {}).businessLayers || {};
    meta.forEach(function (p) {
      var tr = document.createElement('tr');
      var layerInfo = bl[p.project] || {};
      var layerName = layerInfo.layer || '';
      var layerConf = layerInfo.confidence || 0;
      tr.setAttribute('data-search', (p.project + ' ' + (p.repo||'') + ' ' + p.category + ' ' + layerName + ' ' + (p.globalPath||p.path||'')).toLowerCase());
      tr.innerHTML =
        '<td><strong>' + escHtml(p.project) + '</strong></td>' +
        '<td>' + escHtml(p.repo || '') + '</td>' +
        '<td>' + tagHTML(p.category) + '</td>' +
        '<td>' + layerTagHTML(layerName, layerConf) + '</td>' +
        '<td style="text-align:center">' + (refCounts[p.project] || 0) + '</td>' +
        '<td style="text-align:center">' + (depCounts[p.project] || 0) + '</td>' +
        '<td class="mono">' + escHtml(p.globalPath || p.path || '') + '</td>';
      tbody.appendChild(tr);
    });
  }).catch(function (err) {
    console.error('Failed to load project data:', err);
    var tbody = document.getElementById('projectsBody');
    tbody.innerHTML = '<tr><td colspan="7" style="text-align:center;color:#ef4444;padding:2rem;">Failed to load project data.</td></tr>';
  });

  }); // end finally for flow-paths.json

  // Search
  var searchInput = document.getElementById('searchInput');
  searchInput.addEventListener('input', function () {
    var query = searchInput.value.trim().toLowerCase();
    if (query.length > 0) activateTab('allprojects');
    var rows = document.querySelectorAll('#projectsBody tr[data-search]');
    rows.forEach(function (row) {
      var text = row.getAttribute('data-search') || '';
      row.style.display = (!query || text.indexOf(query) !== -1) ? '' : 'none';
    });
  });

  // Flow paths search
  var flowSearchInput = document.getElementById('flowSearchInput');
  if (flowSearchInput) {
    flowSearchInput.addEventListener('input', function () {
      var query = flowSearchInput.value.trim().toLowerCase();
      var rows = document.querySelectorAll('#flowPathsBody .flow-row');
      rows.forEach(function (row) {
        var text = row.getAttribute('data-search') || '';
        row.style.display = (!query || text.indexOf(query) !== -1) ? '' : 'none';
      });
    });
  }

  // Flow path click-to-expand
  var flowBody = document.getElementById('flowPathsBody');
  if (flowBody) {
    flowBody.addEventListener('click', function (e) {
      var row = e.target.closest('.flow-row');
      if (!row) return;
      var idx = parseInt(row.getAttribute('data-flow-idx'), 10);
      showFlowDetail(idx);
    });
  }

  function showFlowDetail(idx) {
    var fd = window._flowData || {};
    var paths = fd.flowPaths || [];
    if (idx < 0 || idx >= paths.length) return;
    var fp = paths[idx];
    var container = document.getElementById('flowDetailContainer');
    var content = document.getElementById('flowDetailContent');
    var mermaidDiv = document.getElementById('flowDetailMermaid');
    if (!container || !content) return;

    // Build step-by-step detail
    var html = '<div style="margin-bottom:0.5rem;">';
    if (fp.namedFlow) {
      html += '<strong style="color:#3b82f6;">' + escHtml(fp.namedFlow) + '</strong><br/>';
    }
    if (fp.description) {
      html += '<span style="color:#94a3b8;font-size:0.85rem;">' + escHtml(fp.description) + '</span><br/>';
    }
    html += '<span style="color:#94a3b8;font-size:0.8rem;">Depth: ' + fp.pathLength + ' | Layers: ' + (fp.crossesLayers || []).join(' &rarr; ') + '</span>';
    html += '</div>';

    // Step-by-step chain with layer badges
    html += '<div style="display:flex;flex-wrap:wrap;align-items:center;gap:0.3rem;">';
    var bl = fd.businessLayers || {};
    (fp.path || []).forEach(function (step, i) {
      if (i > 0) html += '<span class="flow-arrow">&rarr;</span>';
      if (step.project) {
        var li = bl[step.project] || {};
        html += '<span class="flow-step">' + layerTagHTML(li.layer || step.layer || '', li.confidence || 0) + ' <strong>' + escHtml(step.project) + '</strong></span>';
      } else if (step.endpoint) {
        var epName = step.endpoint.indexOf(':') !== -1 ? step.endpoint.split(':').slice(1).join(':') : step.endpoint;
        var epType = step.type || '';
        html += '<span class="flow-step"><span class="tag tag-db">' + escHtml(epType) + '</span> <em>' + escHtml(epName) + '</em></span>';
      }
    });
    html += '</div>';
    content.innerHTML = html;

    // Render inline Mermaid diagram for this path
    if (mermaidDiv && window.mermaidAPI) {
      var mermaidSrc = buildFlowPathMermaid(fp, bl);
      mermaidDiv.innerHTML = '<pre class="mermaid">' + escHtml(mermaidSrc) + '</pre>';
      var pre = mermaidDiv.querySelector('pre.mermaid');
      if (pre) {
        window.mermaidAPI.run({ nodes: [pre] }).then(function () {
          var svg = mermaidDiv.querySelector('svg');
          if (svg) {
            var vb = svg.getAttribute('viewBox');
            if (vb) {
              var parts = vb.split(' ');
              svg.style.width = parseFloat(parts[2]) + 'px';
              svg.style.height = parseFloat(parts[3]) + 'px';
              svg.style.maxWidth = 'none';
              svg.removeAttribute('width');
            }
          }
        }).catch(function (err) { console.error('Flow mermaid error:', err); });
      }
    }

    container.style.display = 'block';
  }

  function buildFlowPathMermaid(fp, bl) {
    var lines = ['graph TD'];
    var prevId = null;
    (fp.path || []).forEach(function (step) {
      var nid, label;
      if (step.project) {
        nid = step.project.replace(/[^a-zA-Z0-9_]/g, '_');
        var layer = (bl[step.project] || {}).layer || step.layer || '';
        label = step.project + '\n(' + layer + ')';
        lines.push('    ' + nid + '["' + label + '"]');
      } else if (step.endpoint) {
        nid = step.endpoint.replace(/[^a-zA-Z0-9_]/g, '_');
        var epName = step.endpoint.indexOf(':') !== -1 ? step.endpoint.split(':').slice(1).join(':') : step.endpoint;
        var etype = step.type || '';
        if (etype === 'database') {
          lines.push('    ' + nid + '[("' + epName + '")]');
        } else if (etype === 'messaging') {
          lines.push('    ' + nid + '{' + epName + '}');
        } else {
          lines.push('    ' + nid + '(["' + epName + '"])');
        }
      } else { return; }
      if (prevId) {
        var edgeType = step.edgeType || '';
        if (edgeType.indexOf('data-flow') !== -1) {
          lines.push('    ' + prevId + ' ==> ' + nid);
        } else {
          lines.push('    ' + prevId + ' --> ' + nid);
        }
      }
      prevId = nid;
    });
    return lines.join('\n');
  }
})();
</script>
</body>
</html>